functions:
  nest:
    handler: dist/src/lambda-http.handler
    image:
      name: appimage
      command:
        - dist/src/lambda-http.handler
    memorySize: 2048
    timeout: 20
    events:
      - httpApi:
          method: '*'
          path: /
      - httpApi:
          method: '*'
          path: /{proxy+}

  sqs:
    handler: dist/src/lambda-sqs.handler
    image:
      name: appimage
      command:
        - dist/src/lambda-sqs.handler
    memorySize: 512
    timeout: 30
    events:
      - sqs:
          batchSize: 1
          arn:
            Fn::GetAtt: [EmailQueue, Arn]
